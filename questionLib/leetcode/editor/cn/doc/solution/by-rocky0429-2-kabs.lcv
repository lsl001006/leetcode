å¤§å®¶å¥½å‘€ï¼Œæˆ‘æ˜¯æœç´¢è›‹ã€‚

ä»Šå¤©è§£å†³**äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°**ï¼Œä¼—æ•°æ˜¯ä¸€ä¸ªæ•°å­¦åè¯ï¼Œå¸¸ç”¨åœ¨ç»Ÿè®¡å­¦ä¸­ï¼Œæ˜¯ä¸€ç»„æ•°æ®ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„æ•°å€¼ï¼Œä»£è¡¨æ•°æ®çš„ä¸€èˆ¬æ°´å¹³ã€‚

çŸ¥é“äº†è¿™ä¸ªï¼Œä¸‹é¢è®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹è¿™é“é¢˜ï¼

![501-0.png](https://pic.leetcode-cn.com/1657243427-TuWZLU-501-0.png)

# LeetCode 501ï¼šäºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°

## é¢˜æ„

ç»™ä½ ä¸€ä¸ªå«é‡å¤å€¼çš„äºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ rootï¼Œæ‰¾å‡ºå¹¶è¿”å›å…¶ä¸­çš„æ‰€æœ‰ä¼—æ•°ï¼Œå³å‡ºç°é¢‘ç‡æœ€é«˜çš„å…ƒç´ ã€‚

å¦‚æœæ ‘ä¸­æœ‰ä¸æ­¢ä¸€ä¸ªä¼—æ•°ï¼Œå¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ã€‚

## ç¤ºä¾‹

è¾“å…¥ï¼šroot = [1,null,2,2]
è¾“å‡ºï¼š[2]

![501-1.png](https://pic.leetcode-cn.com/1657243433-svVPGh-501-1.png)

## æç¤º

- æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´ [1,10^4] å†…
- -10^5 <= Node.val <= 10^5

# é¢˜ç›®è§£æ

è¿™é“äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°ï¼Œéš¾åº¦ç®€å•ï¼Œé¢˜ç›®ç»å…¸ã€‚

è§£å†³è¿™é“é¢˜ä¾ç„¶è¿˜æ˜¯ç”¨åˆ°äº†äºŒå‰æœç´¢æ ‘çš„æ€§è´¨ï¼š**äºŒå‰æœç´¢æ ‘è¿›è¡Œä¸­åºéå†æ—¶ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ä¸€ä¸ªæœ‰åºçš„åºåˆ—ã€‚**

å¦‚æœä¸æ‡‚äºŒå‰æœç´¢æ ‘ï¼Œå¯ä»¥çœ‹æˆ‘ä¸‹é¢è¿™ç¯‡æ–‡ç« ï¼š

**[ACM é€‰æ‰‹å¸¦ä½ ç©è½¬äºŒå‰æœç´¢æ ‘ï¼](https://mp.weixin.qq.com/s/DsWb4oXeOWsCRiuPRwJysg)**

ä¸­åºéå†ä»¥åï¼Œè¿™é“é¢˜å°±å˜æˆäº†ï¼š**åœ¨æœ‰åºåºåˆ—ä¸­å¯»æ‰¾ä¼—æ•°ã€‚**

å¯èƒ½çœ‹åˆ°â€œå¯»æ‰¾ä¼—æ•°â€ï¼Œå¾ˆå¤šåŒå­¦è„‘å­é‡Œä¼šç›´æ¥æµ®ç°å‡ºâ€œå“ˆå¸Œè¡¨â€ï¼Œä½†æ˜¯æˆ‘åŠä½ è¿˜æ˜¯åˆ«ï¼Œå¤ªæµªè´¹ç©ºé—´äº†ã€‚

è¿™é‡Œè¿˜æ˜¯åˆ©ç”¨â€œæœ‰åºåºåˆ—â€çš„è¿™ä¸ªç‰¹æ€§ï¼Œ**å› ä¸ºæœ‰åºï¼Œæ‰€æœ‰é‡å¤çš„æ•°å­—ä¸€å®šæ˜¯è¿ç»­çš„ï¼Œå³é›†ä¸­åœ¨æŸä¸ªæ•°æ®æ®µå†…ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸€éæ‰«æï¼Œåˆ¤æ–­ç›¸é‚»çš„å…ƒç´ å€¼æ˜¯å¦ç›¸ç­‰å³å¯ã€‚**

å…·ä½“çš„è§£æ³•æˆ‘ä»¬å¾€ä¸‹çœ‹~

![501-8.jpg](https://pic.leetcode-cn.com/1657243442-YbRhmF-501-8.jpg)

# é€’å½’æ³•

æ ¹æ®ä¸Šé¢è®²çš„ï¼Œé€’å½’æ³•å…¶å®å°±æ˜¯äºŒå‰æ ‘ä¸­åºéå†çš„é€’å½’æ³•ã€‚

**[ACM é€‰æ‰‹å¸¦ä½ ç©è½¬äºŒå‰æ ‘å‰ä¸­ååºéå†ï¼ˆé€’å½’ç‰ˆï¼‰](https://mp.weixin.qq.com/s/8O7cIqyU6Ecpcq3Nj_e_0Q)**

ä½†å‡¡æ˜¯é€’å½’æˆ‘ä»¬å°±åˆ†ä¸ºä¸¤æ­¥æ¥çœ‹ï¼š

**(1) æ‰¾å‡ºé‡å¤çš„å­é—®é¢˜ã€‚**

ä¸­åºéå†çš„é¡ºåºæ˜¯ï¼šå·¦å­æ ‘ã€æ ¹ã€å³å­æ ‘ã€‚

å¯¹äºå·¦å­æ ‘ã€å³å­æ ‘æ¥è¯´ï¼Œä¹Ÿæ˜¯åŒæ ·çš„éå†é¡ºåºã€‚

æ‰€ä»¥è¿™ä¸ªé‡å¤çš„å­é—®é¢˜å°±æ˜¯ï¼š**å…ˆéå†å·¦å­æ ‘ã€å†å–æ ¹èŠ‚ç‚¹ï¼Œæœ€åéå†å³å­æ ‘**ã€‚

* Python

```Python
self.inOrder(root.left, lst)
lst.append(root.val)
self.inOrder(root.right, lst)
```

**(2) ç¡®å®šç»ˆæ­¢æ¡ä»¶ã€‚**

å’Œå‰åºéå†ç›¸åŒï¼Œå°±æ˜¯å½“å‰çš„èŠ‚ç‚¹ä¸ºç©ºï¼Œç©ºçš„æ²¡å•¥å¥½éå†çš„ã€‚

* Python

```Python
if root == None:
    return None
```

æœ€é‡è¦çš„ä¸¤ç‚¹ç¡®å®šå®Œäº†ï¼Œç„¶åä»£ç åŸºæœ¬ä¸Šå°±å‡ºæ¥ã€‚

**æœ€åè®°å¾—åœ¨ä¸»å‡½æ•°ä¸­æ±‚ä¼—æ•°ï¼Œä¹Ÿå°±æ˜¯åœ¨æœ‰åºåºåˆ—ä¸­æ±‚ä¼—æ•°ã€‚**

å› ä¸º**å¯èƒ½å­˜åœ¨å¤šä¸ªä¼—æ•°**ï¼Œæˆ‘ä»¬ç”¨ cnt è®°å½•å½“å‰å…ƒç´ é‡å¤çš„æ¬¡æ•°ï¼Œç”¨ maxCnt è®°å½•å·²ç»éå†è¿‡çš„å…ƒç´ å½“ä¸­å‡ºç°æœ€å¤šçš„å…ƒç´ çš„å‡ºç°æ¬¡æ•°ï¼Œç”¨ res è®°å½•ä¼—æ•°ã€‚

å…·ä½“åšæ³•å°±æ˜¯ï¼š

- æ¯”è¾ƒå½“å‰çš„å…ƒç´ å€¼ lst[i] ä¸å‰ä¸€ä¸ªå…ƒç´ å€¼ preï¼š

- - å¦‚æœ lst[i] == preï¼Œcnt = cnt + 1ã€‚
  - å¦‚æœ lst[i] > preï¼Œcnt = 1ã€‚
- æ¯”è¾ƒå½“å‰å…ƒç´ é‡å¤çš„æ¬¡æ•° cnt ä¸ maxCntï¼š

- - å¦‚æœ cnt == maxCntï¼Œè¯´æ˜å½“å‰çš„å…ƒç´ å€¼ lst[i] å‡ºç°çš„æ¬¡æ•°ç­‰äºå½“å‰ä¼—æ•°å‡ºç°çš„æ¬¡æ•°ï¼Œå°† lst[i] åŠ å…¥ resã€‚
  - å¦‚æœ cnt > maxCntï¼Œè¯´æ˜å½“å‰çš„å…ƒç´ å€¼ lst[i] å‡ºç°çš„æ¬¡æ•°å¤§äºå½“å‰ä¼—æ•°å‡ºç°çš„æ¬¡æ•°ï¼Œæ‰€ä»¥å°† maxCnt æ›´æ–°ä¸º cntï¼Œæ¸…ç©º resï¼Œä¹‹åå°† lst[i] åŠ å…¥ resã€‚

![501-9.jpg](https://pic.leetcode-cn.com/1657243451-BTfDvJ-501-9.jpg)

## Python ä»£ç å®ç°

* Python

```Python
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    # ä¸­åºéå†
    def inOrder(self, root: TreeNode, lst):
        if root == None:
            return None
        self.inOrder(root.left, lst)
        lst.append(root.val)
        self.inOrder(root.right, lst)

    def findMode(self, root: TreeNode) -> List[int]:
        lst = []
        self.inOrder(root, lst)
        # è®°å½•å‰ä¸€ä¸ªå…ƒç´ å€¼
        pre = lst[0]
        # è®°å½•æ¬¡æ•°
        cnt = 1
        # è®°å½•æœ€å¤§æ¬¡æ•°
        maxCnt = 1
        # è®°å½•ç»“æœ
        res = [lst[0]]
        
        for i in range(1, len(lst)):
            # å¦‚æœä¸å‰ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ç›¸ç­‰
            if pre == lst[i]:
                cnt += 1
            else:
                cnt = 1
            # å¦‚æœå’Œæœ€å¤§æ¬¡æ•°ç›¸åŒï¼Œå°†å€¼æ”¾å…¥ res
            if cnt == maxCnt:
                res.append(lst[i])
            # å¦‚æœå¤§äºæœ€å¤§æ¬¡æ•°
            if cnt > maxCnt:
                # æ›´æ–°æœ€å¤§æ¬¡æ•°
                maxCnt = cnt
                # é‡æ–°æ›´æ–° res
                res = [lst[i]]
            pre = lst[i]
        
        return res
```

## Java ä»£ç å®ç°

* Java

```Java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {

    // ä¸­åºéå†
    public void inOrder(TreeNode root, List<Integer> lst) {
        if (root == null) {
            return;
        }
        inOrder(root.left, lst);
        lst.add(root.val);
        inOrder(root.right, lst);
    }

    public int[] findMode(TreeNode root) {
        List<Integer> lst = new ArrayList<Integer>();
        inOrder(root, lst);
        // è®°å½•å‰ä¸€ä¸ªå…ƒç´ å€¼
        int pre = lst.get(0);
        // è®°å½•æ¬¡æ•°
        int cnt = 1;
        // è®°å½•æœ€å¤§æ¬¡æ•°
        int maxCnt = 1;
        // è®°å½•ç»“æœ
        List<Integer> res = new ArrayList<Integer>();
        res.add(lst.get(0));
        for(int i = 1; i < lst.size(); i++){
            // å¦‚æœä¸å‰ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ç›¸ç­‰
            if(pre == lst.get(i)){
                cnt += 1;
            }
            else{
                cnt = 1;
            }
            // å¦‚æœå’Œæœ€å¤§æ¬¡æ•°ç›¸åŒï¼Œå°†å€¼æ”¾å…¥ res
            if (cnt == maxCnt){
                res.add(lst.get(i));
            }
            // å¦‚æœå¤§äºæœ€å¤§æ¬¡æ•°
            else if(cnt > maxCnt){
                // æ›´æ–°æœ€å¤§æ¬¡æ•°
                maxCnt = cnt;
                // é‡æ–°æ›´æ–° res
                res.clear();
                res.add(lst.get(i));
            }
            pre = lst.get(i);
        }
        return res.stream().mapToInt(Integer::intValue).toArray();
    }
}
```

æ­¤è§£æ³•ï¼Œä¸­åºéå†æ¯ä¸ªèŠ‚ç‚¹è¢«éå†ä¸€æ¬¡ï¼Œæ‰€ä»¥**æ—¶é—´å¤æ‚åº¦ä¸º O(n)**ã€‚

æ­¤å¤–åœ¨é€’å½’è¿‡ç¨‹ä¸­è°ƒç”¨äº†é¢å¤–çš„æ ˆç©ºé—´ï¼Œç»´æŠ¤äº†ä¸€ä¸ª res çš„ç»“æœæ•°ç»„ï¼Œæ‰€ä»¥**ç©ºé—´å¤æ‚åº¦ä¸º O(n)**ã€‚

# éé€’å½’æ³•ï¼ˆè¿­ä»£ï¼‰

å¯¹äºä¸­åºéå†è€Œè¨€ï¼Œ**å¤„ç†èŠ‚ç‚¹æ˜¯åœ¨éå†å®Œå·¦å­æ ‘ä¹‹å**ã€‚

ç›´ç™½ç‚¹å°±æ˜¯ï¼š**ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¸€å±‚å±‚çš„éå†ï¼Œæ‰¾åˆ°å·¦å­æ ‘æœ€å·¦çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œä»å®ƒå¼€å§‹å¤„ç†èŠ‚ç‚¹ã€‚**

å¦‚æœå¯¹éé€’å½’çš„äºŒå‰æ ‘ä¸­åºéå†ä¸ç†Ÿæ‚‰çš„åŒå­¦ï¼Œå¯ä»¥çœ‹ä¸‹é¢è¿™ç¯‡æ–‡ç« ï¼š

**[ACM é€‰æ‰‹å¸¦ä½ ç©è½¬äºŒå‰æ ‘å‰ä¸­ååºéå†ï¼ˆéé€’å½’ç‰ˆï¼‰](https://mp.weixin.qq.com/s/5m0AACLIIve26cFbjjsCVQ)**

å¸¸è§„çš„**ä¸­åºéå†å…·ä½“æ­¥éª¤**å¦‚ä¸‹æ‰€ç¤ºï¼š

- åˆå§‹åŒ–ä¸€ä¸ªç©ºæ ˆã€‚

- å½“ã€æ ¹èŠ‚ç‚¹ä¸ä¸ºç©ºã€‘æˆ–è€…ã€æ ˆä¸ä¸ºç©ºã€‘æ—¶ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹

- - è‹¥å½“å‰èŠ‚ç‚¹æœ‰å·¦å­æ ‘ï¼Œä¸€ç›´éå†å·¦å­æ ‘ï¼Œæ¯æ¬¡å°†å½“å‰èŠ‚ç‚¹å‹å…¥æ ˆä¸­ã€‚
  - è‹¥å½“å‰èŠ‚ç‚¹æ— å·¦å­æ ‘ï¼Œä»æ ˆä¸­å¼¹å‡ºè¯¥èŠ‚ç‚¹ï¼Œå°è¯•è®¿é—®è¯¥èŠ‚ç‚¹çš„å³å­æ ‘ã€‚

åœ¨æˆ‘è¿™é“é¢˜ä¸­ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ±‚ã€æœ‰åºåºåˆ—çš„ä¼—æ•°ã€‘ï¼Œä¼—æ•°æ˜¯ä¸€ç»„æ•°æ®ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„æ•°å€¼ã€‚

å…¶å®å’Œåœ¨é€’å½’ä¸­æˆ‘ä»‹ç»çš„æ±‚ä¼—æ•°çš„æ–¹æ³•ç±»ä¼¼ï¼Œåªä¸è¿‡åœ¨é€’å½’æ³•ä¸­ï¼Œæˆ‘æ˜¯ä¸­åºéå†å®Œï¼Œå†æ±‚çš„ä¼—æ•°ï¼Œè€Œåœ¨éé€’å½’æ³•ä¸­ï¼Œæˆ‘ä»¬æ˜¯ä¸€è¾¹å¼¹å‡ºèŠ‚ç‚¹ä¸€è¾¹ç»´æŠ¤ä¼—æ•°ã€‚

![501-10.jpg](https://pic.leetcode-cn.com/1657243468-OzvMpS-501-10.jpg)

å…·ä½“åšæ³•å°±æ˜¯ï¼š

- æ¯”è¾ƒå½“å‰å¼¹å‡ºçš„èŠ‚ç‚¹ cur ä¸å‰ä¸€ä¸ªèŠ‚ç‚¹ preï¼š

- - å¦‚æœ cur.val == pre.valï¼Œcnt = cnt + 1ã€‚
  - å¦‚æœ cur.val > pre.valï¼Œcnt = 1ã€‚
- æ¯”è¾ƒå½“å‰å…ƒç´ é‡å¤çš„æ¬¡æ•° cnt ä¸ maxCntï¼š

- - å¦‚æœ cnt == maxCntï¼Œè¯´æ˜å½“å‰çš„å…ƒç´ å€¼ cur.val å‡ºç°çš„æ¬¡æ•°ç­‰äºå½“å‰ä¼—æ•°å‡ºç°çš„æ¬¡æ•°ï¼Œå°† cur.val åŠ å…¥ resã€‚
  - å¦‚æœ cnt > maxCntï¼Œè¯´æ˜å½“å‰çš„å…ƒç´ å€¼ cur.val å‡ºç°çš„æ¬¡æ•°å¤§äºå½“å‰ä¼—æ•°å‡ºç°çš„æ¬¡æ•°ï¼Œæ‰€ä»¥å°† maxCnt æ›´æ–°ä¸º cntï¼Œæ¸…ç©º resï¼Œä¹‹åå°† cur.val åŠ å…¥ resã€‚

![501-11.jpg](https://pic.leetcode-cn.com/1657243474-XpoJSs-501-11.jpg)

ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼š

![501-2.png](https://pic.leetcode-cn.com/1657243478-KOxKbN-501-2.png)

é¦–å…ˆåˆå§‹åŒ–ä¸€ä¸ªç©ºæ ˆ stackã€è®°å½•å‰ä¸€ä¸ªå…ƒç´ å€¼ preã€è®°å½•å½“å‰å…ƒç´ é‡å¤çš„æ¬¡æ•° cntï¼Œè®°å½•å·²ç»éå†è¿‡çš„å…ƒç´ å½“ä¸­å‡ºç°æœ€å¤šçš„å…ƒç´ çš„å‡ºç°æ¬¡æ•° maxCntï¼Œè®°å½•ç»“æœ resã€‚

![501-3.png](https://pic.leetcode-cn.com/1657243482-yjtlDE-501-3.png)

* Python

```Python
stack = []
 # è®°å½•å‰ä¸€ä¸ªå…ƒç´ å€¼
pre = None
 # è®°å½•æ¬¡æ•°
cnt = 0
# è®°å½•æœ€å¤§æ¬¡æ•°
maxCnt = 0
 # è®°å½•ç»“æœ
res = []
```

ç¬¬ 1 æ­¥ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¸€ç›´å‘å·¦å­æ ‘éå†ï¼ŒåŒæ—¶å°†å½“å‰çš„èŠ‚ç‚¹å‹å…¥æ ˆä¸­ã€‚

![501-4.png](https://pic.leetcode-cn.com/1657243488-VRPFPb-501-4.png)

* Python

```Python
# ä¸€ç›´å‘å·¦å­æ ‘èµ°ï¼Œæ¯ä¸€æ¬¡å°†å½“å‰èŠ‚ç‚¹ä¿å­˜åˆ°æ ˆä¸­
if root:
    stack.append(root)
    root = root.left
```

å½“å‰èµ°åˆ°äº†æœ€å·¦é¢ï¼Œå¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼Œå³ cur ä¸ºèŠ‚ç‚¹ 1ã€‚

å› ä¸º pre == Noneï¼Œè¯æ˜åˆšéå†åˆ°ç¬¬ 1 ä¸ªèŠ‚ç‚¹ï¼Œå°† cnt èµ‹å€¼ä¸º 1ã€‚

![501-5.png](https://pic.leetcode-cn.com/1657243494-Rquuhj-501-5.png)

* Python

```Python
cur = stack.pop()
# ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
if pre == None:
    cnt = 1
```

æ­¤æ—¶çš„ cnt > maxCntï¼Œæ‰€ä»¥ä»¤ maxCnt = cntï¼Œå°† res æ¸…ç©ºï¼Œä¹‹åå°† cur.val åŠ å…¥ resã€‚

![501-6.png](https://pic.leetcode-cn.com/1657243500-REwcCw-501-6.png)

* Python

```Python
# å¦‚æœå¤§äºæœ€å¤§æ¬¡æ•°
if cnt > maxCnt:
    # æ›´æ–°æœ€å¤§æ¬¡æ•°
    maxCnt = cnt
    # é‡æ–°æ›´æ–° res
    res = [cur.val]
```

ä¸‹é¢å°† pre æŒ‡å‘ curï¼ŒåŒæ—¶å¼€å§‹éå†å³å­æ ‘ã€‚

![501-7.png](https://pic.leetcode-cn.com/1657243505-dvOSJn-501-7.png)

ä¹‹åçš„æ¯ä¸€æ­¥éƒ½æ˜¯ä¸æ–­çš„å…¥æ ˆã€å‡ºæ ˆï¼Œç»´æŠ¤ preã€cntã€maxCnt ä»¥åŠ resï¼Œç›´è‡³éå†å®Œæ•´æ£µäºŒå‰æœç´¢æ ‘ã€‚

æˆ‘å°±ä¸åœ¨æ­¤è¿‡å¤šèµ˜è¿°ï¼Œå¤§å®¶è‡ªå·±åŠ¨æ‰‹è¯•ä¸€ä¸‹ã€‚

![501-12.jpg](https://pic.leetcode-cn.com/1657243510-MTCmlX-501-12.jpg)

## Python ä»£ç å®ç°

* Python

```Python
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    def findMode(self, root: TreeNode) -> List[int]:
        stack = []
         # è®°å½•å‰ä¸€ä¸ªå…ƒç´ å€¼
        pre = None
         # è®°å½•æ¬¡æ•°
        cnt = 0
        # è®°å½•æœ€å¤§æ¬¡æ•°
        maxCnt = 0
         # è®°å½•ç»“æœ
        res = []

        while root or stack:
            # ä¸€ç›´å‘å·¦å­æ ‘èµ°ï¼Œæ¯ä¸€æ¬¡å°†å½“å‰èŠ‚ç‚¹ä¿å­˜åˆ°æ ˆä¸­
            if root:
                stack.append(root)
                root = root.left
            # å½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯æ˜èµ°åˆ°äº†æœ€å·¦è¾¹ï¼Œä»æ ˆä¸­å¼¹å‡ºèŠ‚ç‚¹
            # å¼€å§‹å¯¹å³å­æ ‘é‡å¤ä¸Šè¿°è¿‡ç¨‹
            else:
                cur = stack.pop()
                # ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
                if pre == None:
                    cnt = 1
                # å¦‚æœä¸å‰ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ç›¸ç­‰
                elif pre.val == cur.val:
                    cnt += 1
                else:
                    cnt = 1
                # å¦‚æœå’Œæœ€å¤§æ¬¡æ•°ç›¸åŒï¼Œå°†å€¼æ”¾å…¥ res
                if cnt == maxCnt:
                    res.append(cur.val)
                 # å¦‚æœå¤§äºæœ€å¤§æ¬¡æ•°
                if cnt > maxCnt:
                    # æ›´æ–°æœ€å¤§æ¬¡æ•°
                    maxCnt = cnt
                    # é‡æ–°æ›´æ–° res
                    res = [cur.val]
                pre = cur
                root = cur.right
        return res
```

## Java ä»£ç å®ç°

* Java

```Java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public int[] findMode(TreeNode root) {
        Stack<TreeNode> stack = new Stack<TreeNode>();
        // è®°å½•å‰ä¸€ä¸ªèŠ‚ç‚¹
        TreeNode pre = null;
        // è®°å½•æ¬¡æ•°
        int cnt = 0;
        // è®°å½•æœ€å¤§æ¬¡æ•°
        int maxCnt = 0;
        // è®°å½•ç»“æœ
        List<Integer> res = new ArrayList<Integer>();

        while(stack.size() > 0 || root != null){
            // ä¸€ç›´å‘å·¦å­æ ‘èµ°ï¼Œæ¯ä¸€æ¬¡å°†å½“å‰èŠ‚ç‚¹ä¿å­˜åˆ°æ ˆä¸­
            if(root != null){
                stack.add(root);
                root = root.left;
            }
            // å½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯æ˜èµ°åˆ°äº†æœ€å·¦è¾¹ï¼Œä»æ ˆä¸­å¼¹å‡ºèŠ‚ç‚¹
            // å¼€å§‹å¯¹å³å­æ ‘é‡å¤ä¸Šè¿°è¿‡ç¨‹
            else{
                TreeNode cur = stack.pop();
                // ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
                if(pre == null){
                    cnt = 1;
                }
                // å¦‚æœä¸å‰ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ç›¸ç­‰
                else if(pre.val == cur.val){
                    cnt += 1;
                }
                else{
                    cnt = 1;
                }
                // å¦‚æœå’Œæœ€å¤§æ¬¡æ•°ç›¸åŒï¼Œå°†å€¼æ”¾å…¥ res
                if(cnt == maxCnt){
                    res.add(cur.val);
                }
                // å¦‚æœå¤§äºæœ€å¤§æ¬¡æ•°
                else if(cnt > maxCnt){
                    // æ›´æ–°æœ€å¤§æ¬¡æ•°
                    maxCnt = cnt;
                    // é‡æ–°æ›´æ–° res
                    res.clear();
                    res.add(cur.val);
                }
                pre = cur;
                root = cur.right;
            }
        }
        return res.stream().mapToInt(Integer::intValue).toArray();
    }
}
```

åŒæ ·ï¼Œéé€’å½’ç‰ˆçš„è§£æ³•**æ—¶é—´å¤æ‚åº¦ä¸º** **O(n)ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(n)**ã€‚

---

**å›¾è§£äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°**åˆ°è¿™å°±ç»“æŸè¾£ï¼Œåœ¨æå®šäºŒå‰æœç´¢æ ‘ä¸Šæˆ‘ä»¬åˆèµ°è¿œäº†ä¸€æ­¥ã€‚

é—®é¢˜å°±æ˜¯è¿™ä¹ˆä¸€æ­¥æ­¥çš„æŠ½ä¸å‰¥èŒ§ï¼Œå°†éš¾é¢˜æ‹†æˆä¸€æ­¥æ­¥çš„ç®€å•é¢˜ï¼Œç›´åˆ°è§£å†³ã€‚

![501-13.jpg](https://pic.leetcode-cn.com/1657243520-nKQFOL-501-13.jpg)

## å†™åœ¨æœ€å

**å¦‚æœä½ è§‰å¾—æœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¯·ç»™é¢˜è§£ç‚¹ä¸ªèµå’Œæ”¶è—ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ°å‘€**

ä¹Ÿæ¬¢è¿ä½ ç‚¹å‡»[**å…³æ³¨æˆ‘**](https://cdn.codegoudan.com/img/gzgzhbcwqlgd0-1.png)ï¼Œè§£é”æ›´å¤šå›¾è§£ LeetCodeï¼Œä¸€èµ·ç©è½¬æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼

æˆ‘æ˜¯å¸…è›‹ï¼Œæˆ‘ä»¬ä¸‹æ¬¡è§ï¼

<br />

[**æ¨èé˜…è¯»** ğŸ‘ï¼šACM é€‰æ‰‹å¸¦ä½ ç©è½¬äºŒå‰æ ‘](https://mp.weixin.qq.com/s/l8jwYfaUuV5ZjFH8CMNw9A)

[**æ¨èé˜…è¯»** ğŸ‘ï¼šACMé€‰æ‰‹å¸¦ä½ ç©è½¬äºŒå‰æœç´¢æ ‘](https://mp.weixin.qq.com/s/DsWb4oXeOWsCRiuPRwJysg)

[**æ¨èé˜…è¯»** ğŸ‘ï¼šACM é€‰æ‰‹å›¾è§£ LeetCode éªŒè¯äºŒå‰æœç´¢æ ‘](https://mp.weixin.qq.com/s/I8kEYkfzLe7Tdqbr9Nqang)

[**æ¨èé˜…è¯»** ğŸ‘ï¼šACM é€‰æ‰‹å›¾è§£ LeetCode äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢](https://mp.weixin.qq.com/s/tC3RwcEXBCub_FP0KqquSg)

[**æ¨èé˜…è¯»** ğŸ‘ï¼šACM é€‰æ‰‹å¸¦ä½ ç©è½¬äºŒå‰æ ‘å±‚æ¬¡éå†](https://mp.weixin.qq.com/s/3MMgFtLW9BHpguUkHICLkQ)

[**æ¨èé˜…è¯»** ğŸ‘ï¼šACM é€‰æ‰‹å¸¦ä½ ç©è½¬æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦](https://mp.weixin.qq.com/s/Q3LUNACtC8G-x4EMtPGRHA)
